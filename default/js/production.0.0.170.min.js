function commaSeparateNumber(a){for(;/(\d+)(\d{3})/.test(a.toString());)a=a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return a}dmf.registerModule("all",function(a,b){"use strict";function c(){d(),e(),f()}function d(){$(".tooltips").tooltip({html:!0,placement:"auto"})}function e(){$("body").on("click touchstart","#menu-toggle",function(a){a.preventDefault(),$("html").toggleClass("menu-active"),$("#sidebar").toggleClass("toggled")}),$("#sidebar .menu-item").hover(function(){$(this).closest(".dropdown").addClass("hovered")},function(){$(this).closest(".dropdown").removeClass("hovered")}),$(".side-menu .dropdown > a").click(function(a){a.preventDefault()})}function f(){$("body").on("click touchstart",".drawer-toggle",function(a){a.preventDefault();var b=$(this).attr("data-drawer");$('.drawer:not("#'+b+'")').removeClass("toggled"),$("#"+b).hasClass("toggled")?$("#"+b).removeClass("toggled"):$("#"+b).addClass("toggled")}),$(document).on("mouseup touchstart",function(a){var b=$(".drawer, .tm-icon");0===b.has(a.target).length&&($(".drawer").removeClass("toggled"),$(".drawer-toggle").removeClass("open"))}),$("body").on("click touchstart",".drawer-close",function(){$(this).closest(".drawer").removeClass("toggled"),$(".drawer-toggle").removeClass("open")})}return{start:c}}),dmf.registerModule("bank",function(a,b){"use strict";function c(){f["bank-withdraw"]=document.getElementById("bank-withdraw"),d()}function d(){$(f["bank-withdraw"]).on("click",".withdraw-max-fill",e)}function e(a){var b=a.target,c=$(b).parents("label"),d=document.getElementById(c.attr("for"));d.value=b.innerHTML}var f={};return{start:c}}),dmf.registerModule("name-of-module",function(a,b){"use strict";function c(){}function d(){}function e(a){}return{listeners:{someEvent:e},start:c,stop:d}}),dmf.registerModule("launcher",function(a,b){"use strict";function c(){a.registerEvents({"page-detected":d},"launcher"),a.startModules(["dmf-logger","all","page-detector"])}function d(b){a.startModule(b)}return{start:c}}),dmf.registerModule("mailwrite",function(a,b){"use strict";function c(){d()}function d(){$("#message").markdown({autofocus:!1,savable:!1,iconlibrary:"fa",hiddenButtons:["cmdPreview","cmdCode","cmdQuote","cmdImage"],fullscreen:{enable:!1}})}return{start:c}}),dmf.registerModule("operations",function(a,b){"use strict";function c(){d=$(".covert-operation-panel"),d.on("keypress",function(a){13==a.keyCode&&a.preventDefault()})}var d;return{start:c}}),dmf.registerModule("page-detector",function(a,b){"use strict";function c(){var b=d();a.announce("page-detected",b)}function d(){var a=location.pathname.substring(1).split(".")[0],b=a.split("/");return b.pop()}return{start:c}}),dmf.registerModule("population",function(a,b){"use strict";function c(){f["pg-max-fill"]=$("#pg-max-fill"),d()}function d(){f["pg-max-fill"].on("click",e)}function e(){f["pg-max-fill"].parents(".input-group").find("input").val(f["pg-max-fill"].data("max"))}var f={};return{start:c}}),dmf.registerModule("weapons",function(a,b){"use strict";function c(){g.buyweapons=document.getElementById("buyweapons"),g.purchaseTable=document.getElementById("ship-purchase-table"),g.purchaseInputs=g.purchaseTable.getElementsByTagName("input"),d()}function d(){$(g.purchaseTable).on("click",".ship-max-fill",e)}function e(a){var b=a.target;f();var c=b.innerHTML,d=b.parentNode.previousElementSibling,e=d.getElementsByTagName("input")[0];return e.value=c,!1}function f(){for(var a=0;a<g.purchaseInputs.length;a++)"INPUT"===g.purchaseInputs[a].nodeName&&"text"===g.purchaseInputs[a].type&&(g.purchaseInputs[a].value=0)}var g={};return{start:c}}),$(document).ready(function(){if(function(){$(".auto-size")[0]&&$(".auto-size").autosize(),$(".select")[0]&&$(".select").selectpicker(),$(".sortable")[0]&&$(".sortable").sortable(),$(".tag-select")[0]&&$(".tag-select").chosen(),$(".tab")[0]&&$(".tab a").click(function(a){a.preventDefault(),$(this).tab("show")}),$(".collapse")[0]&&$(".collapse").collapse(),$(".panel-collapse").on("shown.bs.collapse",function(){$(this).prev().find(".panel-title a").removeClass("active")}),$(".panel-collapse").on("hidden.bs.collapse",function(){$(this).prev().find(".panel-title a").addClass("active")}),$(".pover")[0]&&$(".pover").popover()}(),function(){if($(".overflow")[0]){var a;a=$(".overflow").niceScroll()}}(),function(){$("[class*='form-validation']")[0]&&($("[class*='form-validation']").validationEngine(),$("body").on("click",".validation-clear",function(a){a.preventDefault(),$(this).closest("form").validationEngine("hide")}))}(),function(){$(".input-slider")[0]&&$(".input-slider").slider().on("slide",function(a){$(this).closest(".slider-container").find(".slider-value").val(a.value)})}(),function(){$(".pirobox_gall")[0]&&(jQuery.browser={},function(){jQuery.browser.msie=!1,jQuery.browser.version=0,navigator.userAgent.match(/MSIE ([0-9]+)\./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1)}(),$().piroBox_ext({piro_speed:700,bg_alpha:.5,piro_scroll:!0}))}(),function(){$(".tab-vertical").each(function(){var a=$(this).outerHeight(),b=$(this).closest(".tab-container").find(".tab-content").outerHeight();b>a&&$(this).height(b)}),$("body").on("click touchstart",".tab-vertical li",function(){var a=$(this).closest(".tab-vertical");a.height("auto");var b=a.outerHeight(),c=$(this).closest(".tab-container").find(".tab-content").outerHeight();c>b&&a.height(c)})}(),function(){$("body").on("click touchstart",".box-switcher",function(a){a.preventDefault();var b=$(this).attr("data-switch");$(this).closest(".box").toggleClass("active"),$("#"+b).closest(".box").addClass("active")})}(),$("input:checkbox, input:radio")[0]){$('input:checkbox:not([data-toggle="buttons"] input, .make-switch input), input:radio:not([data-toggle="buttons"] input)').iCheck({checkboxClass:"icheckbox_minimal",radioClass:"iradio_minimal",increaseArea:"20%"});var a=$(".list-parent-check"),b=$(".list-check");a.on("ifChecked",function(){$(this).closest(".list-container").find(".list-check").iCheck("check")}),a.on("ifClicked",function(){$(this).closest(".list-container").find(".list-check").iCheck("uncheck")}),b.on("ifChecked",function(){var a=$(this).closest(".list-container").find(".list-parent-check"),b=$(this).closest(".list-container").find(".list-check"),c=$(this).closest(".list-container").find(".list-check:checked");b.length==c.length&&a.iCheck("check")}),b.on("ifUnchecked",function(){var a=$(this).closest(".list-container").find(".list-parent-check");a.iCheck("uncheck")}),b.on("ifChanged",function(){var a=$(this).closest(".list-container").find(".list-check:checked"),b=$(this).closest(".list-container").find(".show-on");a.length>0?b.show():b.hide()})}!function(){navigator.userAgent.indexOf("Mac")>0&&$("body").addClass("mac-os")}(),function(){$(".photo-gallery")[0]&&$(".photo-gallery").SuperBox()}()}),$(window).load(function(){$(".quick-stats").each(function(){var a=$(this).find("h2"),b=$(this).find("h2").attr("data-value");$({someValue:0}).animate({someValue:b},{duration:1e3,easing:"swing",step:function(){a.text(commaSeparateNumber(Math.round(this.someValue)))}})})});