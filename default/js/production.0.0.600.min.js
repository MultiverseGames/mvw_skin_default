function commaSeparateNumber(a){for(;/(\d+)(\d{3})/.test(a.toString());)a=a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return a}dmf.registerModule("all",function(a){"use strict";function b(){l=a.fn.extend({},l,c()),d(),e()}function c(){return{$body:$("body"),$drawers:$(".drawer"),$html:$("html"),$menuToggle:$("#menu-toggle"),$pageContent:$("#content-page"),$sidebar:$("#sidebar")}}function d(){l.$menuToggle.on("click touchstart",g),l.$sidebar.find(".menu-item").hover(h,i),l.$body.on("click touchstart",".drawer-toggle",j),l.$pageContent.on("mouseup touchstart",f)}function e(){$(".tooltips").tooltip({html:!0,placement:"auto"})}function f(){k()}function g(a){a.preventDefault(),l.$html.toggleClass("menu-active"),l.$sidebar.toggleClass("toggled")}function h(a){$(this).closest(".dropdown").addClass("hovered")}function i(a){$(this).closest(".dropdown").removeClass("hovered")}function j(a){a.preventDefault();var b=$(this).data("drawer"),c=$("#"+b);$(".drawer").not(c).removeClass("toggled"),c.toggleClass("toggled")}function k(){l.$drawers.removeClass("toggled")}var l={};return{start:b}}),dmf.registerModule("bank",function(a,b){"use strict";function c(){f["bank-withdraw"]=document.getElementById("bank-withdraw"),d()}function d(){$(f["bank-withdraw"]).on("click",".withdraw-max-fill",e)}function e(a){var b=a.target,c=$(b).parents("label"),d=document.getElementById(c.attr("for"));d.value=b.innerHTML}var f={};return{start:c}}),dmf.registerModule("name-of-module",function(a,b){"use strict";function c(){}function d(){}function e(a){}return{listeners:{someEvent:e},start:c,stop:d}}),dmf.registerModule("launcher",function(a,b){"use strict";function c(){a.registerEvents({"page-detected":d},"launcher"),a.startModules(["dmf-logger","all","page-detector"])}function d(b){a.startModule(b)}return{start:c}}),dmf.registerModule("mailwrite",function(a,b){"use strict";function c(){d()}function d(){$("#message").markdown({autofocus:!1,savable:!1,iconlibrary:"fa",hiddenButtons:["cmdPreview","cmdCode","cmdQuote","cmdImage"],fullscreen:{enable:!1}})}return{start:c}}),dmf.registerModule("operations",function(a,b){"use strict";function c(){d=$(".covert-operation-panel"),d.on("keypress",function(a){13==a.keyCode&&a.preventDefault()})}var d;return{start:c}}),dmf.registerModule("page-detector",function(a,b){"use strict";function c(){var b=d();a.announce("page-detected",b)}function d(){var a=location.pathname.substring(1).split(".")[0],b=a.split("/");return b.pop()}return{start:c}}),dmf.registerModule("population",function(a,b){"use strict";function c(){f["pg-max-fill"]=$("#pg-max-fill"),d()}function d(){f["pg-max-fill"].on("click",e)}function e(){f["pg-max-fill"].parents(".input-group").find("input").val(f["pg-max-fill"].data("max"))}var f={};return{start:c}}),dmf.registerModule("weapons",function(a,b){"use strict";function c(){g.buyweapons=document.getElementById("buyweapons"),g.purchaseTable=document.getElementById("ship-purchase-table"),g.purchaseInputs=g.purchaseTable.getElementsByTagName("input"),d()}function d(){$(g.purchaseTable).on("click",".ship-max-fill",e)}function e(a){var b=a.target;f();var c=b.innerHTML,d=b.parentNode.previousElementSibling,e=d.getElementsByTagName("input")[0];return e.value=c,!1}function f(){for(var a=0;a<g.purchaseInputs.length;a++)"INPUT"===g.purchaseInputs[a].nodeName&&"text"===g.purchaseInputs[a].type&&(g.purchaseInputs[a].value=0)}var g={};return{start:c}}),$(document).ready(function(){!function(){$(".auto-size")[0]&&$(".auto-size").autosize(),$(".select")[0]&&$(".select").selectpicker(),$(".sortable")[0]&&$(".sortable").sortable(),$(".tag-select")[0]&&$(".tag-select").chosen(),$(".tab")[0]&&$(".tab a").click(function(a){a.preventDefault(),$(this).tab("show")}),$(".collapse")[0]&&$(".collapse").collapse(),$(".panel-collapse").on("shown.bs.collapse",function(){$(this).prev().find(".panel-title a").removeClass("active")}),$(".panel-collapse").on("hidden.bs.collapse",function(){$(this).prev().find(".panel-title a").addClass("active")}),$(".pover")[0]&&$(".pover").popover()}(),function(){if($(".overflow")[0]){var a;a=$(".overflow").niceScroll()}}(),function(){$("[class*='form-validation']")[0]&&($("[class*='form-validation']").validationEngine(),$("body").on("click",".validation-clear",function(a){a.preventDefault(),$(this).closest("form").validationEngine("hide")}))}(),function(){$(".tab-vertical").each(function(){var a=$(this).outerHeight(),b=$(this).closest(".tab-container").find(".tab-content").outerHeight();b>a&&$(this).height(b)})}()}),$(window).load(function(){$(".quick-stats").each(function(){var a=$(this).find("h2"),b=$(this).find("h2").attr("data-value");$({someValue:0}).animate({someValue:b},{duration:1e3,easing:"swing",step:function(){a.text(commaSeparateNumber(Math.round(this.someValue)))}})})});